(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-msg-grouppro"],{"17e4":function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,'@charset "UTF-8";\nuni-page-body[data-v-36854ff2]{min-height:100%;height:auto}\n\n/* 解决头条小程序字体图标不显示问题，因为头条运行时自动插入了span标签，且有全局字体 */\n.uni-icon[data-v-36854ff2]{font-family:uniicons;font-weight:400}.uni-container[data-v-36854ff2]{padding:15px;background-color:#f8f8f8}.uni-header-logo[data-v-36854ff2]{padding:15px 15px;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;margin-top:%?10?%}.uni-header-image[data-v-36854ff2]{width:80px;height:80px}.uni-hello-text[data-v-36854ff2]{margin-bottom:20px}.hello-text[data-v-36854ff2]{color:#7a7e83;font-size:14px;line-height:20px}.hello-link[data-v-36854ff2]{color:#7a7e83;font-size:14px;line-height:20px}.uni-panel[data-v-36854ff2]{margin-bottom:12px}.uni-panel-h[data-v-36854ff2]{background-color:azure;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding:12px}\n/*\r\n.uni-panel-h:active {\r\n    background-color: #f8f8f8;\r\n}\r\n */.uni-panel-h-on[data-v-36854ff2]{background-color:#f0f0f0}.uni-panel-text[data-v-36854ff2]{-webkit-box-flex:1;-webkit-flex:1;flex:1;color:#000;font-size:14px;font-weight:400}.uni-panel-icon[data-v-36854ff2]{margin-left:15px;color:#999;font-size:14px;font-weight:400;-webkit-transform:rotate(0deg);transform:rotate(0deg);-webkit-transition-duration:0s;transition-duration:0s;-webkit-transition-property:-webkit-transform;transition-property:-webkit-transform;transition-property:transform;transition-property:transform,-webkit-transform}.uni-panel-icon-on[data-v-36854ff2]{-webkit-transform:rotate(180deg);transform:rotate(180deg)}.uni-navigate-item[data-v-36854ff2]{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;align-items:center;background-color:#fff;border-top-style:solid;border-top-color:#f0f0f0;border-top-width:1px;padding:12px}.uni-navigate-item[data-v-36854ff2]:active{background-color:#f8f8f8}.uni-navigate-text[data-v-36854ff2]{-webkit-box-flex:1;-webkit-flex:1;flex:1;color:#000;font-size:14px;font-weight:400}.uni-navigate-icon[data-v-36854ff2]{margin-left:15px;color:#999;font-size:14px;font-weight:400}.sel[data-v-36854ff2]{width:50%;height:%?60?%;line-height:%?60?%;background-color:#08c;text-align:center}.sel2[data-v-36854ff2]{color:#e1ffff;background-color:#8fbc8f}.isShow[data-v-36854ff2]{display:none}.uni-swipe-action[data-v-36854ff2]{width:100%;overflow:hidden}.uni-swipe-action__container[data-v-36854ff2]{background-color:#fff;width:200%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-flex-wrap:wrap;flex-wrap:wrap;-webkit-transition:-webkit-transform .35s cubic-bezier(.165,.84,.44,1);transition:-webkit-transform .35s cubic-bezier(.165,.84,.44,1);transition:transform .35s cubic-bezier(.165,.84,.44,1);transition:transform .35s cubic-bezier(.165,.84,.44,1),-webkit-transform .35s cubic-bezier(.165,.84,.44,1)}.uni-swipe-action__content[data-v-36854ff2]{width:50%}.uni-swipe-action__btn-group[data-v-36854ff2]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row}.uni-swipe-action--btn[data-v-36854ff2]{padding:0 %?32?%;color:#fff;background-color:#c7c6cd;font-size:%?28?%;display:-webkit-inline-box;display:-webkit-inline-flex;display:inline-flex;text-align:center;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.item[data-v-36854ff2]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;padding:%?10?% %?16?%;background-color:#fff;border-bottom:1px solid #f3f3f3}.item.stick[data-v-36854ff2]{background-color:rgba(243,236,221,.5)}.item .item-left[data-v-36854ff2]{text-align:center}.item .item-left .image[data-v-36854ff2]{width:%?100?%;height:%?100?%;border-radius:%?50?%;background-color:#eee}.item .item-left .avator[data-v-36854ff2]{width:%?100?%;height:%?100?%;text-align:center;line-height:%?100?%;background:#4191ea;border-radius:50%;overflow:hidden}.item .item-left .avator .iconfont[data-v-36854ff2]{width:%?100?%;height:%?100?%;text-align:center;line-height:%?100?%;color:#fff;font-size:%?40?%}.item .item-middle[data-v-36854ff2]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-flex:1;-webkit-flex:1;flex:1;-webkit-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;margin-left:%?15?%;overflow:hidden}.item .item-middle .title[data-v-36854ff2]{width:100%;color:#000;font-family:微软雅黑;font-weight:400;font-size:%?30?%;height:%?50?%;line-height:%?60?%;overflow:hidden;\n      /*自动隐藏文字*/text-overflow:ellipsis;\n      /*文字隐藏后添加省略号*/white-space:nowrap\n      /**强制不换行*/}.item .item-middle .message[data-v-36854ff2]{width:100%;font-family:微软雅黑;color:grey;height:%?50?%;line-height:%?40?%;font-size:%?24?%;overflow:hidden;\n      /**自动隐藏文字*/text-overflow:ellipsis;\n      /**文字隐藏后添加省略号*/white-space:nowrap\n      /**强制不换行*/}.item .item-right[data-v-36854ff2]{overflow:hidden;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.item .item-right .time[data-v-36854ff2]{color:grey;font-size:%?18?%;height:%?60?%;line-height:%?60?%}.item .item-right .mark[data-v-36854ff2]{background-color:#f74c31;line-height:%?35?%;text-align:center;font-size:%?18?%;min-width:%?35?%;min-height:%?35?%;border-radius:%?18?%;color:#fff}.word-btn[data-v-36854ff2]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;border-radius:6px;height:48px;margin:15px;background-color:#007aff}.word-btn--hover[data-v-36854ff2]{background-color:#4ca2ff}\n/* 底部分享 */.uni-share[data-v-36854ff2]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;background-color:#fff}.uni-share-title[data-v-36854ff2]{line-height:%?60?%;font-size:%?24?%;padding:%?15?% 0;text-align:center}.button-sp-area[data-v-36854ff2]{margin:%?10?% %?10?%}.hui[data-v-36854ff2]{-webkit-filter:grayscale(100%);filter:grayscale(100%)}.red[data-v-36854ff2]{color:red}',""])},2915:function(t,e,i){var n=i("17e4");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var o=i("4f06").default;o("6450c58e",n,!0,{sourceMap:!1,shadowMode:!1})},"51cb":function(t,e,i){"use strict";(function(t){var n=i("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(i("f499")),a=i("ec26"),r=i("2f62"),l=n(i("6da6")),s=n(i("c016")),f=n(i("32eb")),c=n(i("6d27")),d=n(i("2ada")),u=(i("583d"),{computed:(0,r.mapState)(["forcedLogin","hasLogin","s_token"]),components:{uniIcons:f.default,avatorGroup:s.default,uniDrawer:l.default,uniSwipeAction:c.default,uniPopup:d.default},data:function(){return{myid:0,groupid:0,gownid:0,list:{},options:[],showpopup:!1}},onNavigationBarButtonTap:function(e){var i="确定退出该群？";this.gownid==this.$store.state.socket.mine.id&&(i="确定解散该群？"),uni.showModal({title:"退群",content:i,success:function(e){e.confirm&&t.log("退群")}})},onLoad:function(e){var i=this;uni.setNavigationBarTitle({title:" "+e.name+"  成员"}),t.log(e),this.hasLogin?(this.groupid=e.id,this.myid=this.$store.state.socket.mine.id,uni.request({url:a.s_members,dataType:"json",data:{token:this.s_token,id:e.id},method:"post",header:{"Content-Type":"application/x-www-form-urlencoded"},success:function(t){if(200===t.data.code){var e=t.data;i.list=e.data.list;var n={},o=0;i.gownid=e.data.ownerid;for(var a=0;a<i.list.length;a++)if(i.list[a].id==e.data.ownerid){n=i.list[a],o=a;break}i.list.splice(o,1,n),e.data.ownerid==i.$store.state.socket.mine.id&&(i.options=[{text:"踢人",style:{backgroundColor:"#C7C6CD"}}])}else uni.showToast({icon:"none",title:t.data.msg})},fail:function(e){return t.log("request fail",e),uni.showModal({content:e.errMsg,showCancel:!1}),!1},complete:function(){}})):uni.showModal({title:"未登录",content:"您未登录，需要登录后才能继续",showCancel:!this.forcedLogin,success:function(t){t.confirm&&(i.forcedLogin?uni.reLaunch({url:"../login/login"}):uni.navigateTo({url:"../login/login"}))}})},methods:{bindClickBtn:function(e,i){var n=this;e==this.gownid?uni.showModal({content:"不能踢自己",showCancel:!1}):uni.showModal({title:"踢人",content:"确定把 "+i+" 踢出该群？",success:function(i){i.confirm&&uni.request({url:a.s_kickPeople,dataType:"json",data:{token:n.s_token,gid:n.groupid,id:e},method:"post",header:{"Content-Type":"application/x-www-form-urlencoded"},success:function(t){200===t.data.code?uni.showToast({icon:"none",title:"成功"}):uni.showToast({icon:"none",title:t.data.msg})},fail:function(e){return t.log("request fail",e),uni.showModal({content:e.errMsg,showCancel:!1}),!1},complete:function(){}})}})},editGname:function(){this.showpopup=!0},toMessageDetail:function(t,e,i){var n=(0,o.default)(e);e.type="friend",this.$store.state.socket.CurrentToUser=e,uni.navigateTo({url:"../msg/msg?it="+n})},change:function(t){t.show||(this.showpopup=!1)},formSubmitbz:function(t){var e=t.detail.value;e.gname.length<1||e.gname.length>15?uni.showToast({title:"群名长度在 1-15 之间",icon:"none"}):this.tj(a.s_editGname,e.gname)},tj:function(e,i){var n=this;uni.request({url:e,dataType:"json",data:{token:this.s_token,gid:this.groupid,gname:i},method:"post",header:{"Content-Type":"application/x-www-form-urlencoded"},success:function(t){200===t.data.code?(uni.setNavigationBarTitle({title:" "+i+"  （"+n.groupid+"）成员"}),n.showpopup=!1):uni.showToast({icon:"none",title:t.data.msg})},fail:function(e){return t.log("request fail",e),uni.showModal({content:e.errMsg,showCancel:!1}),!1},complete:function(){}})}}});e.default=u}).call(this,i("5a52")["default"])},a4f9:function(t,e,i){"use strict";var n=i("2915"),o=i.n(n);o.a},ac1e:function(t,e,i){"use strict";i.r(e);var n=i("51cb"),o=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,function(){return n[t]})}(a);e["default"]=o.a},e6cb:function(t,e,i){"use strict";i.r(e);var n=i("ee4b"),o=i("ac1e");for(var a in o)"default"!==a&&function(t){i.d(e,t,function(){return o[t]})}(a);i("a4f9");var r=i("2877"),l=Object(r["a"])(o["default"],n["a"],n["b"],!1,null,"36854ff2",null);e["default"]=l.exports},ee4b:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[t.myid==t.gownid?i("v-uni-button",{staticClass:"button-sp-area",attrs:{type:"primary",plain:"true"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.editGname.apply(void 0,arguments)}}},[t._v("修改群名")]):t._e(),t._l(t.list,function(e,n){return[i("uni-swipe-action",{key:n+"_0",attrs:{options:t.options},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.bindClickBtn(e.id,e.username)}}},[i("v-uni-view",{staticClass:"uni-swipe-action"},[i("v-uni-view",{staticClass:"uni-swipe-action__container"},[i("v-uni-view",{staticClass:"uni-swipe-action__content ",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.toMessageDetail(n,e,"friend")}}},[i("v-uni-view",{staticClass:"item",class:0==n?"stick":""},[[i("v-uni-view",{staticClass:"item-left"},[i("avator-group",{class:["offline"==e.status?"hui":""],attrs:{text:e.username,type:e.type,avator:e.avatar}})],1),i("v-uni-view",{staticClass:"item-middle"},[i("v-uni-text",{staticClass:"title",class:e.vip>0?"red":""},[t._v(t._s(e.username))]),i("v-uni-text",{staticClass:"message"},[t._v(t._s(e.sign))])],1)]],2)],1)],1)],1)],1)]}),i("uni-popup",{attrs:{show:t.showpopup,type:"center"},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.change.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"uni-padding-wrap uni-common-mt",staticStyle:{"background-color":"#ccc"}},[i("v-uni-form",{on:{submit:function(e){arguments[0]=e=t.$handleEvent(e),t.formSubmitbz.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"uni-form-item uni-column"},[i("v-uni-view",{staticClass:"title"},[t._v("修改群名")]),i("v-uni-input",{staticClass:"uni-input",attrs:{name:"gname",placeholder:"请输入群名"}})],1),i("v-uni-view",{staticClass:"uni-btn-v"},[i("v-uni-button",{attrs:{"form-type":"submit"}},[t._v("修改")]),i("v-uni-button",{attrs:{type:"default","form-type":"reset"}},[t._v("重置")]),i("v-uni-button",{attrs:{type:"default"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.change.apply(void 0,arguments)}}},[t._v("关闭")])],1)],1)],1)],1)],2)},o=[];i.d(e,"a",function(){return n}),i.d(e,"b",function(){return o})}}]);