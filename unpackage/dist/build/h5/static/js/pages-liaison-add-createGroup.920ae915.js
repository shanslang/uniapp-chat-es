(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-liaison-add-createGroup"],{"0abf":function(t,n,e){"use strict";(function(t){var i=e("288e");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=i(e("e814")),o=i(e("cebc")),u=e("2f62"),s=e("ec26"),c={computed:(0,o.default)({},(0,u.mapState)(["hasLogin","s_token"])),data:function(){return{chooseGender:0,power:"0000",avatar:""}},onLoad:function(){this.power=""+this.$store.state.socket.mine.power},methods:{formSubmit:function(n){var e=this,i=n.detail.value;i.groupname.length<1||i.groupname.length>15?uni.showToast({icon:"none",title:"群名字符长度必须在 1-15 之间"}):(uni.showLoading({title:"提交修改..",mask:!1}),i.token=this.s_token,i.avatar=this.avatar,uni.request({url:s.s_createGroup,dataType:"json",data:i,method:"post",header:{"Content-Type":"application/x-www-form-urlencoded"},success:function(t){200===t.data.code?(uni.showToast({title:"创建成功",icon:"success"}),e.switchTab()):uni.showToast({icon:"none",title:t.data.msg})},fail:function(n){return t.log("request fail",n),uni.showModal({content:n.errMsg,showCancel:!1}),!1},complete:function(){uni.hideLoading()}}))},radioChange:function(t){this.chooseGender=(0,a.default)(t.detail.value)},switchTab:function(){uni.switchTab({url:"/pages/liaison/liaison"})},navigateBack:function(){uni.navigateBack()},formReset:function(n){t.log("清空数据")},chooseImage:function(){var n=this;uni.chooseImage({count:1,sizeType:["compressed"],sourceType:["album"],success:function(e){uni.showLoading({title:"上传中..",mask:!1});var i=e.tempFilePaths[0];uni.uploadFile({url:s.s_upImg,filePath:i,name:"imgAv",formData:{token:n.s_token,type:1},success:function(n){var e=n.data;200==n.statusCode?(e=JSON.parse(n.data),200==e.code?(t.log(e),uni.showToast({icon:"none",title:"上传成功"})):uni.showToast({icon:"none",title:e.msg})):uni.showToast({icon:"none",title:"上传失败，请选择小于 3M 的图片"})},complete:function(){uni.hideLoading()}})},fail:function(n){t.log("chooseImage fail",n)}})}}};n.default=c}).call(this,e("5a52")["default"])},"4b4b":function(t,n,e){"use strict";e.r(n);var i=e("0abf"),a=e.n(i);for(var o in i)"default"!==o&&function(t){e.d(n,t,function(){return i[t]})}(o);n["default"]=a.a},"52c2":function(t,n,e){"use strict";e.r(n);var i=e("774f"),a=e("4b4b");for(var o in a)"default"!==o&&function(t){e.d(n,t,function(){return a[t]})}(o);var u=e("2877"),s=Object(u["a"])(a["default"],i["a"],i["b"],!1,null,"0a772ae7",null);n["default"]=s.exports},"774f":function(t,n,e){"use strict";var i=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("v-uni-view",{staticClass:"uni-padding-wrap uni-common-mt"},[!1===t.hasLogin?[e("v-uni-view",{staticClass:"uni-h3 uni-center uni-common-mt"},[e("v-uni-navigator",{attrs:{url:"../../login/login"}},[t._v("请先登录")])],1)]:t._e(),!0===t.hasLogin?[e("v-uni-view",{staticClass:"uni-h3 uni-center uni-common-mt"},[t._v("建群")]),e("v-uni-form",{on:{submit:function(n){arguments[0]=n=t.$handleEvent(n),t.formSubmit.apply(void 0,arguments)},reset:function(n){arguments[0]=n=t.$handleEvent(n),t.formReset.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"uni-flex uni-row",staticStyle:{"-webkit-justify-content":"center","justify-content":"center"}},[t.avatar?[e("v-uni-image",{staticClass:"image",attrs:{src:t.avatar,mode:"widthFix"},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.chooseImage.apply(void 0,arguments)}}})]:[e("v-uni-view",{staticClass:"uni-hello-addfile",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.chooseImage.apply(void 0,arguments)}}},[t._v("+ 上传群头像")])]],2),e("v-uni-view",{staticClass:"uni-form-item uni-column"},[e("v-uni-view",{staticClass:"title"},[t._v("群名")]),e("v-uni-input",{staticClass:"uni-input",attrs:{name:"groupname",placeholder:"输入群名"}})],1),e("v-uni-view",{staticClass:"uni-form-item uni-column"},[e("v-uni-view",{staticClass:"title"},[t._v("类型")]),e("v-uni-radio-group",{attrs:{name:"glevel"},on:{change:function(n){arguments[0]=n=t.$handleEvent(n),t.radioChange.apply(void 0,arguments)}}},[this.power.substr(2,1)>0?e("v-uni-label",[e("v-uni-radio",{attrs:{value:"1"}}),e("v-uni-text",[t._v("VIP群")])],1):t._e(),this.power.substr(3,1)>0?e("v-uni-label",[e("v-uni-radio",{attrs:{value:"0",checked:""}}),e("v-uni-text",[t._v("普通群")])],1):t._e()],1)],1),e("v-uni-view",{staticClass:"uni-btn-v"},[e("v-uni-button",{attrs:{"form-type":"submit"}},[t._v("创建")]),e("v-uni-button",{on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.navigateBack.apply(void 0,arguments)}}},[t._v("取消")])],1)],1)]:t._e()],2)},a=[];e.d(n,"a",function(){return i}),e.d(n,"b",function(){return a})}}]);