(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-my-my"],{"157b":function(t,n,e){"use strict";var i=e("5aed"),o=e.n(i);o.a},"5a0f":function(t,n,e){n=t.exports=e("2350")(!1),n.push([t.i,".image[data-v-7d4fbb60]{margin:%?40?% 0;width:%?200?%}",""])},"5aed":function(t,n,e){var i=e("5a0f");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=e("4f06").default;o("05ec4e90",i,!0,{sourceMap:!1,shadowMode:!1})},"98dc":function(t,n,e){"use strict";e.r(n);var i=e("e757"),o=e.n(i);for(var a in i)"default"!==a&&function(t){e.d(n,t,function(){return i[t]})}(a);n["default"]=o.a},d9c7:function(t,n,e){"use strict";e.r(n);var i=e("e44f"),o=e("98dc");for(var a in o)"default"!==a&&function(t){e.d(n,t,function(){return o[t]})}(a);e("157b");var s=e("2877"),c=Object(s["a"])(o["default"],i["a"],i["b"],!1,null,"7d4fbb60",null);n["default"]=c.exports},e44f:function(t,n,e){"use strict";var i=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("v-uni-view",[e("v-uni-view",{staticClass:"uni-flex uni-row",staticStyle:{"-webkit-justify-content":"center","justify-content":"center"}},[t.avatar?[e("v-uni-image",{staticClass:"image",attrs:{src:t.avatar,mode:"widthFix"},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.chooseImage.apply(void 0,arguments)}}})]:[e("v-uni-view",{staticClass:"uni-hello-addfile",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.chooseImage.apply(void 0,arguments)}}},[t._v("+ 更新头像")])]],2),e("uni-list",[e("v-uni-navigator",{attrs:{url:"info"}},[e("uni-list-item",{attrs:{"show-extra-icon":!0,"extra-icon":t.extraIcon1,title:"更新用户信息"}})],1),e("v-uni-navigator",{on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.outs.apply(void 0,arguments)}}},[e("uni-list-item",{attrs:{"show-extra-icon":!0,"extra-icon":t.extraIcon2,title:"退出"}})],1)],1)],1)},o=[];e.d(n,"a",function(){return i}),e.d(n,"b",function(){return o})},e757:function(t,n,e){"use strict";(function(t){var i=e("288e");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=i(e("cebc")),a=e("ec26"),s=e("2f62"),c=i(e("cb38")),u=i(e("6ea2")),r=(0,o.default)({},(0,s.mapState)(["hasLogin","loginProvider"]),{components:{uniList:c.default,uniListItem:u.default},data:function(){return{extraIcon1:{color:"#007aff",size:"28",type:"compose"},extraIcon2:{color:"#4cd964",size:"28",type:"gear"},avatar:""}},onLoad:function(){this.loadf(),this.avatar=this.$store.state.socket.mine.avatar},computed:(0,o.default)({},(0,s.mapState)(["hasLogin","s_token"])),methods:(0,o.default)({},(0,s.mapMutations)(["logout"]),{outs:function(){this.logout(),this.$store.commit("wsClose"),uni.reLaunch({url:"../login/login"})},loadf:function(){var t=this;this.hasLogin||uni.showModal({title:"未登录",content:"您未登录，需要登录后才能继续",showCancel:!this.forcedLogin,success:function(n){n.confirm&&(t.forcedLogin?uni.reLaunch({url:"../login/login"}):uni.navigateTo({url:"../login/login"}))}})},switchChange:function(t){uni.showToast({title:"change:"+t.value,icon:"none"})},chooseImage:function(){var n=this;uni.chooseImage({count:1,sizeType:["compressed"],sourceType:["album"],success:function(e){uni.showLoading({title:"上传中..",mask:!1});var i=e.tempFilePaths[0];uni.uploadFile({url:a.s_upImg,filePath:i,name:"imgAv",formData:{token:n.s_token,type:1},success:function(n){var e=n.data;200==n.statusCode?(e=JSON.parse(n.data),200==e.code?(t.log(e),uni.showToast({icon:"none",title:"上传成功"})):uni.showToast({icon:"none",title:e.msg})):uni.showToast({icon:"none",title:"上传失败，请选择小于 3M 的图片"})},complete:function(){uni.hideLoading()}})},fail:function(n){t.log("chooseImage fail",n)}})}})});n.default=r}).call(this,e("5a52")["default"])}}]);